package qqq

import (
	"fmt"
	"math"
)

/*
给你一个整数数组 nums 。nums 中，子数组的 范围 是子数组中最大元素和最小元素的差值。

返回 nums 中 所有 子数组范围的 和 。

子数组是数组中一个连续 非空 的元素序列。



示例 1：

输入：nums = [1,2,3]
输出：4
解释：nums 的 6 个子数组如下所示：
[1]，范围 = 最大 - 最小 = 1 - 1 = 0
[2]，范围 = 2 - 2 = 0
[3]，范围 = 3 - 3 = 0
[1,2]，范围 = 2 - 1 = 1
[2,3]，范围 = 3 - 2 = 1
[1,2,3]，范围 = 3 - 1 = 2
所有范围的和是 0 + 0 + 0 + 1 + 1 + 2 = 4
示例 2：

输入：nums = [1,3,3]
输出：4
解释：nums 的 6 个子数组如下所示：
[1]，范围 = 最大 - 最小 = 1 - 1 = 0
[3]，范围 = 3 - 3 = 0
[3]，范围 = 3 - 3 = 0
[1,3]，范围 = 3 - 1 = 2
[3,3]，范围 = 3 - 3 = 0
[1,3,3]，范围 = 3 - 1 = 2
所有范围的和是 0 + 0 + 0 + 2 + 0 + 2 = 4
示例 3：

输入：nums = [4,-2,-3,4,1]
输出：59
解释：nums 中所有子数组范围的和是 59


提示：

1 <= nums.length <= 1000
-109 <= nums[i] <= 109


进阶：你可以设计一种时间复杂度为 O(n) 的解决方案吗？

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/sum-of-subarray-ranges
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。
*/

func SubArrayRanges(nums []int) int64 {
	var subRanges int64 = 0
	//子数组的长度，长度为1没有必要计算
	var subLen int = 0
	//子数组的起始下标
	var start int
	numsSize := len(nums)
	for subLen = 2; subLen <= numsSize; subLen++ {
		for start = 0; start <= numsSize-subLen; start++ {
			i := start
			//最大值设置成int可表示的最小值
			//最小值设置成max可表示的最大值
			max := math.MinInt32
			min := math.MaxInt32
			for ; i < start+subLen; i++ {
				if nums[i] > max {
					max = nums[i]
				}
				if nums[i] < min {
					min = nums[i]
				}
			}
			subRanges += (int64)(max - min)
		}
	}
	return subRanges
}

func main() {
	nums := []int{9784600, -227098293, -343362422, 301921364, -355527424, 314211398, 991151208, -207689958, -459793058, 138352597, -729494382, 32207254, 990190733, 843685792, -707524991, -940733278, 982325433, -771967340, -656666618, -600189816, -752037107, -107466177, -277508461, 610664581, -663840244, 955516874, 226683218, -737359235, -249752757, 472179266, 469000214, -110226198, 658879710, -340368043, 963556444, -815004674, 695318861, -159013661, 334017156, 153314304, 445908271, 30535026, -754629364, -224120657, -673468656, -329728940, 713951636, 112499960, -144285704, -705362526, -54502, 754240998, 73487387, -71966185, -7948706, -665718821, -479588598, 481079890, 23115453, -128552050, -816953543, 999860965, -501579640, -694502432, -780845684, -447397380, 171576135, -400268278, 360522712, 385441508, 90834704, 927216168, 277688323, 902339123, -869667481, -102442656, -418931412, -54207528, -675190030, 458504761, -811340290, 619910005, 655158246, 629171020, 426370089, 815814588, -511410546, 742893360, 193881366, 313661369, -458336778, 164434177, -151483646, -976459532, 769371119, 928874534, -194483478, -953143784, -522395487, -570390902, 852414522, -418158967, 557633199, -537123744, -595278740, 479703812, -961314523, -190070945, 136876803, -554761392, -972099880, -830973836, -63757599, -379978680, 862669328, -170632747, 255488384, 814410335, -277805793, 125881320, 103290259, -527739619, 821443977, 985655658, 471742546, 200656475, 914203294, 24760341, 223349596, 724396504, 780367655, 993316100, 239675536, -383230275, -594362827, 713689322, -677354095, -164769148, 718642098, 704903001, -587516997, -113180903, -553878594, -327843329, -157070690, -823880838, 518882431, 298308234, 858987240, 746491243, 357141052, -431701571, 366185225, -132394232, 518079555, -834256377, -327346195, 303230333, 676301486, 483017292, -800532281, 314861604, -604110133, -533492676, 501350454, -139381785, -270151969, -614779533, -232892212, 849295556, 600123427, -780790508, 269390923, 717413413, -451941330, 908561311, -497804749, 540847322, -665688363, 136476436, -157122165, -257249820, 624816173, -811302933, 309302291, 626554814, -267770265, -104480551, -234890478, 394055960, 282666447, 657377120, 450194107, 127281895, 950687542, -450500644, 79674927, 429400667, 560829218, -650865400, 937544226, -809827799, -58195163, -133019840, -625955654, 998256481, 303093941, 287253819, 325957516, 524333727, -155925341, 108207461, -504772881, 838367770, -683160704, 219019521, 238275886, -736578630, -923559602, -149091765, -39451605, -255199793, -844053775, -688729075, 518868428, 389409557, 187276257, -961065167, 705876560, -499100505, -281537369, -888265122, 11731631, 288208268, 881323857, 615567238, 527899332, -471355030, -695503303, -920025794, -717393258, -703294879, -135131862, 237920656, -512201629, -28323317, -134527956, 891852588, 85048040, 929165915, -430349825, -701341028, 804289452, 264926269, -99476925, -919902156, 898833347, -102952803, 283953916, -658952513, 182801324, 803695873, 944031051, -913329429, -247342253, 696491818, 15047977, 355904972, 39316294, 668284970, 264602029, -748996649, -306551174, 257218378, 500947054, -768364296, -867664732, 249686992, 552095069, -263989346, -519416339, -981639417, -904188076, -773417457, -2109344, -55429914, -18394550, -618065961, -284235623, 149387510, 820816407, -674850108, 322804098, 219401675, 25056648, 767056274, 480093382, 298670106, -14830966, -116023590, 86011937, 749064190, -384324274, 551503751, 794297123, 162195573, -485319651, -227127103, -918693212, 982908153, 415085060, 831381989, -297779180, -924204688, -45874923, 4114695, 777526678, 676688603, 112637641, -959422477, -273602940, 356709736, -143501491, 580889287, 415235429, 214642630, 436517991, -507882406, -784623316, 543664939, 683118660, -603512371, -318102352, 47946137, 66867747, -359524228, 589033524, -615326623, -583734009, 101494740, 141850705, 804722818, 735423369, -415712420, -614758665, 932076865, 464721617, 93975533, -413039108, 966862720, 402383292, 851998846, 792635394, 383766426, -156746049, 133935167, -353431348, 756644655, 266942494, 495450576, 485385553, 825084421, 489662393, 833347771, -342830554, -684585402, 975560028, 998131978, -546406430, -803823877, 833670565, -265580620, 557297396, 425150181, 52554704, -503557499, 199201574, -663505250, 393289189, 188014619, -299875954, 591828818, 307631483, -141864066, -471323369, -48139111, 850157515, -332378843, 940466930, -823528155, -339072053, 774109198, 450408201, -541423878, 901927166, -318681283, 951589773, -650401769, 256960377, -75676558, -23190321, 614678684, 82569526, -343976068, -689693182, 386802828, -952449069, -31610478, -669569702, 891708731, 630705118, -871948153, -281634900, -136233455, -664508581, -916696792, 753248638, -82392335, 267064623, -100621727, -590481017, 211880426, -57326929, 464357322, -736378096, 168097538, -846137377, -371358811, -294934297, 141170019, 814776500, 94880690, -637835330, -1481951, -197125387, 315657181, -457945832, 141984022, -161658293, 896156867, -379854430, 362805393, 971829074, -822183250, -320081072, 95256048, 130944754, -774020294, 510782895, 387822152, -87036646, 822910246, -245277455, 186070984, 146927743, 742747219, 283222890, 977049026, 437113372, 720442556, -478756456, 597234849, -591570632, -398633329, -932037895, -737181453, 19497428, 920078883, 469810938, -445865730, -217063471, -345000441, -162362582, 252653945, 324128071, -979477072, -753991406, 909254553, -542785549, 953148358, -471396442, 55291353, -857480750, 348097093, -886320131, -767278511, -577646990, 476642226, 453204630, 174579228, -708786050, -716271029, 514154369, 138228198, -829556834, -393493941, -378715879, -348233520, 2744088, 802152184, -67192077, -696399916, 995322597, 409436476, -731813608, -947544795, -558218163, 907399559, 553325637, -475206286, -464827909, 263588574, -128249039, 414224467, 218958431, 116278203, 295522790, -317169337, 557795288, -207870865, -50739371, -54744495, -161989905, -573654996, 403181127, -814291744, 466542558, 943109315, -587074113, -991902447, 815510171, -224691990, -243228226, -775405916, 657277081, 524765018, 94440188, -792451694, 125665977, -262161816, 765456268, -733783704, 149801871, -996153890, -122790689, -497510932, 991437688, 755923972, 193729285, -158837720, 972458152, -863078995, 649242315, 751377538, 613617748, 924392592, -173770756, -774294082, -160256774, -301598456, 279526225, 877632054, -999234511, -808299688, -788032325, -934292345, -169920655, 727197223, -13239009, -403061814, -240805393, -872538671, 612717324, -630821332, 831850313, -805139475, -340510909, 385669459, 640956175, -140876608, 865482300, -692552246, 243538114, 522533597, 940773574, -288712690, 602044483, -741685644, -892156950, -321142945, -781635826, -835234293, 445924128, 740178561, -484830122, 864067650, 294206564, 653918916, -732881103, -486769103, 751445631, 360995558, 752457852, 997016613, -458835939, -322368, -896413948, 606462653, 747758396, -985570127, 445261122, 832400008, -273383631, -567608541, 10156489, -273169512, -720467385, 316885322, -51779819, -241415167, 168244312, 111241940, -379534457, -569938826, 624573205, -774740858, -425567461, 754345667, 91864858, 310921626, -949759519, -547981670, -297191775, -862928940, -422523460, 487121549, 454285431, -333921287, 288938679, 754825771, 460755910, -926272357, 213775121, -775332951, 509831526, 545602009, -85961154, -56314560, 903785490, -122968074, 814031577, 834045449, 178248403, 13952195, 254513748, -494161952, 831926501, -509502698, -896959730, -97145513, -926352658, -229269375, -575855110, -583922403, 698319072, 767916197, 302171454, 120533809, -99355920, -984109667, -121659586, 619263588, 137883204, -950400933, 413804345, -327256251, -861821115, 471719931, -243832195, 896980242, -341769783, -266535724, 913653934, 233501184, -331345924, -59085327, -171325284, -236726916, -438071142, 582998688, 258219925, 584543262, 346109510, -648076225, -234017944, -812888329, -911977248, -780777956, -837975928, 234781559, 846693, -926915062, -685590616, -853669684, 65600658, -336792177, -696830691, -701896758, -314746831, -156794522, 23046952, -151359323, -671878192, 118634813, 925908957, 117313204, -981668974, 211196146, 848348807, -114390180, -386448809, -690781557, 301894086, -207508082, 728284227, -294634899, 977536706, -781626547, 72704191, -808083372, 771468639, -498954560, 756803869, -901468307, -679979583, 362514331, 175890853, -940503895, 69604845, -687059019, -191445924, -683947384, -25619882, 62673889}
	//nums := []int{4, -2, -3, 4, 1}
	fmt.Printf("ranges:%v\n", subArrayRanges(nums))
	return
}
